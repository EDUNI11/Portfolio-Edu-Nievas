---
import '@/styles/globals.css'
import Layout from '../layouts/Layout.astro';
import NavBar from "../components/NavBar.astro";
import TimeLine from "../components/TimeLine.astro";
import BackgroundBlur from "../components/BackgroundBlur.astro";
import Meteors from "../components/ui/meteors.jsx";
import Footer from "../components/Footer.astro";
import Titles from "../components/Titles.astro";
import Articles from "../components/Articles.astro";
import ProjectsCards from "../components/ProjectsCards.astro";
import AboutMe from "../components/AboutMe.astro";
import Header from "../components/Header.astro";
import ProjectsIcon from "../components/ProjectsIcon.astro";
import TechInfo from "../components/TechInfo.astro";
import TechIcon from "../components/TechIcon.astro";
import AboutMeIcon from "../components/AboutMeIcon.astro";
import ExperienceIcon from "../components/ExperienceIcon.astro";

type IconComponentKeys = 'ProjectsIcon' | 'TechIcon' | 'AboutMeIcon' | 'ExperienceIcon';
type ContentComponentKeys = 'ProjectsCards' | 'TechInfo' | 'AboutMe' | 'TimeLine';

const information = [
    {
        id: 'proyectos',
        icon: 'ProjectsIcon' as IconComponentKeys,
        title: 'Proyectos',
        content: 'ProjectsCards' as ContentComponentKeys
    },
    {
        id: 'tecnologias',
        icon: 'TechIcon' as IconComponentKeys,
        title: 'Tecnologías',
        content: 'TechInfo' as ContentComponentKeys
    },
    {
        id: 'sobre-mi',
        icon: 'AboutMeIcon' as IconComponentKeys,
        title: 'Sobre mí',
        content: 'AboutMe' as ContentComponentKeys
    },
    {
        id: 'experiencia',
        icon: 'ExperienceIcon' as IconComponentKeys,
        title: 'Experiencia Laboral',
        content: 'TimeLine' as ContentComponentKeys
    }
];


const iconComponents: Record<IconComponentKeys, any> = {
    ProjectsIcon: ProjectsIcon,
    TechIcon: TechIcon,
    AboutMeIcon: AboutMeIcon,
    ExperienceIcon: ExperienceIcon
};

const contentComponents: Record<ContentComponentKeys, any> = {
    ProjectsCards: ProjectsCards,
    TechInfo: TechInfo,
    AboutMe: AboutMe,
    TimeLine: TimeLine
};
---

<Layout title="Portfolio Edu Nievass - Desarrollador Full Stack">
    {
        information.map(info => {
            const IconComponent = iconComponents[info.icon];
            const ContentComponent = contentComponents[info.content];

            return (
                    <Articles id={info.id} key={info.id}>
                        <Titles>
                            <IconComponent />
                            {info.title}
                        </Titles>
                        <ContentComponent />
                    </Articles>
            );
        })
    }
</Layout>
